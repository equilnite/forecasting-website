<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Forecasting - 5&nbsp; Zeroth and First Order Forecasting</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./base-rates-and-reference-classes.html" rel="next">
<link href="./estimations.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Zeroth and First Order Forecasting</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Forecasting</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./why-forecast.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Why Forecast?</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./calibration.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Calibration</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./estimations.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Estimation</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./zeroth-first-forecasting.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Zeroth and First Order Forecasting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./base-rates-and-reference-classes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Base Rates and Reference Classes</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#zeroth-order" id="toc-zeroth-order" class="nav-link active" data-scroll-target="#zeroth-order"><span class="toc-section-number">5.1</span>  Zeroth-Order Approximation</a></li>
  <li><a href="#first-order-approximation" id="toc-first-order-approximation" class="nav-link" data-scroll-target="#first-order-approximation"><span class="toc-section-number">5.2</span>  First-order Approximation</a></li>
  <li><a href="#limitations-of-first-order-approximation" id="toc-limitations-of-first-order-approximation" class="nav-link" data-scroll-target="#limitations-of-first-order-approximation"><span class="toc-section-number">5.3</span>  Limitations of First Order Approximation</a></li>
  <li><a href="#limitations-of-zeroth-order-approximation" id="toc-limitations-of-zeroth-order-approximation" class="nav-link" data-scroll-target="#limitations-of-zeroth-order-approximation"><span class="toc-section-number">5.4</span>  Limitations of Zeroth Order Approximation</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Zeroth and First Order Forecasting</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Consider…</p>
<blockquote class="blockquote">
<p>Let’s say you are trying to predict how long it will take to finish your homework assignment. You think about all the problems and how long each will take. Problem 4 looks a little hard but you’re sure if you try real hard you can solve it in 2 hours. Okay, so maybe 7 hours total? Plenty of time to finish if you start the afternoon before it’s due!</p>
<p>Of course, the last 3 homework assignments all took between 12 and 16 hours…</p>
</blockquote>
<blockquote class="blockquote">
<p>You’re getting ready to go to class in the morning. Your first class is at 9:10 am. When should you leave? Well, google maps says 8 minutes from your dorm, but if you bike real fast you can do it in 6. So it’s probably fine to leave at 9:04…</p>
<p>…you say to yourself, and then get to class at 9:20 (just like the last 3 times). Because of course, you forgot to account for the time it takes to tie your shoes, find your keys, put on your backpack, unlock your bike, lock your bike, and walk to the classroom.</p>
</blockquote>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>These are both instances of the <strong>planning fallacy</strong>, where humans regularly underestimate the time it takes to finish a task. In the real world, employees and teams that can avoid the planning fallacy have a huge advantage over those that don’t. The planning fallacy is an example of a cognitive bias, which we’ll talk about in more detail in a later lecture. For now, though, I want to talk about a simple but very effective technique for avoiding the planning fallacy, and more generally for making accurate predictions, called <strong>reference class forecasting</strong>.</p>
</div>
</div>
<section id="zeroth-order" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="zeroth-order"><span class="header-section-number">5.1</span> Zeroth-Order Approximation</h2>
<p>A <strong>zeroth-order approximation</strong> is where we assume that today will look like yesterday (i.e.&nbsp;that the world is roughly constant). To do this, we’ll be considering <strong>reference classes</strong>.</p>
<p>The basic idea behind reference class forecasting is simple: rather than thinking in detail about how long a task will take (or about any other prediction), just think of the last 3-5 instances where something similar happened, and give the average answer. So for homework, a good predictor of how long it takes to complete is the average of other problem sets for that class. For commute time, take the average commute time over the past week.</p>
<p>This works for more than just avoiding the planning fallacy. It’s also useful when making a budget. For example, the plot below shows the evolution of the share of social protection in US government expenditure between 2007 and 2015. The value of this figure in 2015 is well-predicted by its average over the past 5 years.</p>
<iframe src="https://ourworldindata.org/grapher/share-social-protection-in-government-exp-oecd-2013?time=2009..2015&amp;country=~USA" loading="lazy" style="width: 100%; height: 600px; border: 0px none;">
</iframe>
<blockquote class="blockquote">
<p><strong>Brainstorming exercise</strong>. What are other areas where a zeroth-order approximation might work well? </p>
</blockquote>
</section>
<section id="first-order-approximation" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="first-order-approximation"><span class="header-section-number">5.2</span> First-order Approximation</h2>
<p>There’s some cases where a zeroth-order approximation isn’t very helpful. In February 2020, if you were thinking about COVID-19, there were several zeroth-order approximations you could have made:</p>
<ol type="1">
<li>Look at the world generally, and assume that it the end of March will look like it did in the middle of February.</li>
<li>Or similarly, look at the number of available ICU beds and assume it will stay roughly the same.</li>
<li>Or assume the number of cases will stay roughly the same.</li>
</ol>
<p>I think if you asked most people, they would have disagreed with assumption 3. But most people were implicitly applying a zeroth-order approximation to 1 when thinking about the future.</p>
<p>A better strategy would have been to plot the number of Covid cases over time, tracing a line through the recent data points, and to use this line to predict future data points. You could then have used this first-order approximation of the number of Covid cases to predict the overall state of the world and the number of available ICU beds. This would likely have outperformed using assumptions 1. and 2.</p>
<p>For example, here’s what the data would have looked like in the United Kingdom at the end of February 2020:</p>
<iframe src="https://ourworldindata.org/explorers/coronavirus-data-explorer?zoomToSelection=true&amp;time=earliest..2020-03-02&amp;facet=none&amp;country=~GBR&amp;pickerSort=desc&amp;pickerMetric=new_cases_smoothed_per_million&amp;hideControls=true&amp;Metric=Confirmed+cases&amp;Interval=7-day+rolling+average&amp;Relative+to+Population=true&amp;Color+by+test+positivity=false" loading="lazy" style="width: 100%; height: 600px; border: 0px none;">
</iframe>
<p>Here you can see the number of confirmed Covid cases per million in the UK, between early February 2020 and late February 2020: cases remain stable until February 23, then increase. A first-order approximation between Feb 15 and Feb 25 predicts that Covid cases will keep increasing over time, with around an extra 0.002 cases per million every day. Feel free to play around with the dates to see how well and for how long tracing a line through the data would have worked!</p>
<p>Note that the choice of what to first-order approximate matters a lot here. If you had applied a first-order approximation to the number of available ICU beds in late February, you wouldn’t have thought much would change.</p>
<blockquote class="blockquote">
<p><strong>Discussion question</strong>. How can we decide which variables are good ones to first-order approximate? </p>
</blockquote>
</section>
<section id="limitations-of-first-order-approximation" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="limitations-of-first-order-approximation"><span class="header-section-number">5.3</span> Limitations of First Order Approximation</h2>
<p>In many cases, there’s some clear limit to growth, which means the first-order approximation has to stop eventually. For instance, <a href="https://www.statista.com/statistics/272120/revenue-of-tesla/">Tesla’s revenue has grown around 50% per year from 2015 to 2020</a>. If it continues at this rate, then it would account for &gt;50% of the U.S. economy by 2035. This seems unlikely, so the growth will probably slow down sometime before then.</p>
<p>As a more extreme example, <a href="https://openai.com/blog/ai-and-compute/">the number of compute-hours used in the largest AI experiments grew around 10x/year between 2012 and 2018</a>. This probably can’t continue for more than 6-7 years before matching the world’s total current hardware budget 1.</p>
<p>And as an example that already happened, in early 2020 the number of COVID-19 cases was doubling perhaps every 4.5 days. Starting from a few hundred cases, a first-order approximation of its logarithm would have predicted that everyone in the world would be infected within 4 months. While many people have been infected, it’s not everyone, and it took much longer than 4 months.</p>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>All of these are examples of saturation effects: fast-growing trends tend to eventually run into countervailing forces that limit the rate of growth. It’s not always easy to predict exactly when these will kick in, but looking at hard limits like those above can help provide some bound. On the other hand, I think most people intuitively underestimate how long trends last.</p>
</div>
</div>
</section>
<section id="limitations-of-zeroth-order-approximation" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="limitations-of-zeroth-order-approximation"><span class="header-section-number">5.4</span> Limitations of Zeroth Order Approximation</h2>
<blockquote class="blockquote">
<p><strong>Discussion question</strong>. How many deportations were there under the Trump administration in 2018? For comparison, here are numbers under Obama and Bush.</p>
</blockquote>
<table class="table">
<thead>
<tr class="header">
<th><strong>Year</strong></th>
<th><strong>Deportations</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2016</td>
<td>332,227</td>
</tr>
<tr class="even">
<td>2015</td>
<td>325,668</td>
</tr>
<tr class="odd">
<td>2014</td>
<td>405,239</td>
</tr>
<tr class="even">
<td>2013</td>
<td>432,281</td>
</tr>
<tr class="odd">
<td>2012</td>
<td>415,636</td>
</tr>
<tr class="even">
<td>2011</td>
<td>390,442</td>
</tr>
<tr class="odd">
<td>2010</td>
<td>382,461</td>
</tr>
<tr class="even">
<td>2009</td>
<td>379,739</td>
</tr>
<tr class="odd">
<td>2008</td>
<td>359,795</td>
</tr>
<tr class="even">
<td>2007</td>
<td>319,382</td>
</tr>
<tr class="odd">
<td>2006</td>
<td>280,974</td>
</tr>
<tr class="even">
<td>2005</td>
<td>246,431</td>
</tr>
<tr class="odd">
<td>2004</td>
<td>240,665</td>
</tr>
<tr class="even">
<td>2003</td>
<td>211,098</td>
</tr>
<tr class="odd">
<td>2002</td>
<td>165,168</td>
</tr>
<tr class="even">
<td>2001</td>
<td>189,026</td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>Brainstorming exercise</strong>. What are other places where zeroth-order (and even first-order) might not work well? How could we tell? </p>
</blockquote>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./estimations.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Estimation</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./base-rates-and-reference-classes.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Base Rates and Reference Classes</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">This material is adapted from the course material from <a href="http://www.forecastingclass.com/">Stat 157/260 Forecasting @ UC Berkeley</a>. The provided text on this page was originally written by Jacob Steinhardt, Danny Hernandez, Frances Ding, and Yan Zhang.</div>   
  </div>
</footer>



</body></html>